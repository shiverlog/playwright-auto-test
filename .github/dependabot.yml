# Description : dependabot.yml - 📌 npm 패키지, Docker 이미지, GitHub Actions 등의 의존성을 자동으로 업데이트 파일
# Author : Shiwoo Min
# Date : 2024-03-10

version: 2
updates:
  # GitHub Actions 워크플로우 자동 업데이트
  - package-ecosystem: 'github-actions'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    open-pull-requests-limit: 10
    labels:
      - dependencies
      - github-actions
    commit-message:
      prefix: 'Update'
      include: 'scope'

  # npm 의존성 업데이트
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    open-pull-requests-limit: 5
    labels:
      - dependencies
      - npm
    ignore:
      - dependency-name: 'playwright'
    commit-message:
      prefix: 'NPM'
      include: 'scope'

  # Docker 의존성 업데이트 (각 POC별 Dockerfile)
  - package-ecosystem: 'docker'
    directory: '/e2e/pc-web'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    labels:
      - dependencies
      - docker
    commit-message:
      prefix: 'Docker'

  - package-ecosystem: 'docker'
    directory: '/e2e/mobile-web'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    labels:
      - dependencies
      - docker
    commit-message:
      prefix: 'Docker'

  - package-ecosystem: 'docker'
    directory: '/e2e/android'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    labels:
      - dependencies
      - docker
    commit-message:
      prefix: 'Docker'

  - package-ecosystem: 'docker'
    directory: '/e2e/ios'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    labels:
      - dependencies
      - docker
    commit-message:
      prefix: 'Docker'

  - package-ecosystem: 'docker'
    directory: '/e2e/api'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    labels:
      - dependencies
      - docker
    commit-message:
      prefix: 'Docker'

  - package-ecosystem: 'docker'
    directory: '/speedtest'
    schedule:
      interval: 'weekly'
      day: 'friday'
      time: '09:00'
      timezone: 'Asia/Seoul'
    labels:
      - dependencies
      - docker
    commit-message:
      prefix: 'Docker'
